{% extends 'partials/base.html' %}
{% load static %}
{% load humanize %}

{% block marquee %}{% endblock marquee %}

{% block content %}

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">

            <!-- Body Container -->
            <div id="page-content"> 
                <!--Page Header-->
                <div class="page-header text-center">
                    <div class="container">
                        <div class="row">
                            <div class="col-12 col-sm-12 col-md-12 col-lg-12 d-flex justify-content-between align-items-center">
                                <div class="page-title"><h1>Checkout</h1></div>
                                <!--Breadcrumbs-->
                                <div class="breadcrumbs"><a href="{% url 'home' %}" title="Back to the home page">Home</a><span class="main-title"><i class="icon anm anm-angle-right-l"></i>Checkout</span></div>
                                <!--End Breadcrumbs-->
                            </div>
                        </div>
                    </div>
                </div>
                <!--End Page Header-->

                <!--Main Content-->
                <div class="container">
                    <form method="POST">
                        {% csrf_token %}


                            <!-- Scrollable modal -->
                            <div class="modal fade modal-dialog modal-dialog-scrollable" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
                              <div class="modal-dialog">
                                <div class="modal-content">

                                    <div class="modal-header">
                                        <h1 class="modal-title fs-5" id="staticBackdropLabel">Make Payment</h1>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                      </div>
                                  <div class="modal-body">

                                    <p>Bank Name : {{bank.bank_name}}</p>
                                    <p>Account Name : {{bank.account_name}}</p>
                                    <p>Account Number : {{bank.account_number}}</p>

                                      <div class="my-3">
                                          <label for="formFile" class="form-label">Payment Receipt</label>
                                          <input class="form-control" name="screenshot" type="file" id="formFile">
                                        </div>

                                  </div>
                                  <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                                    <button type="submit" class="btn btn-primary" >I have Made Payment</button>
                                  </div>
                                </div>
                              </div>
                            </div>

                        <div class="row">

                            <div class="col-lg-6 col-md-6 col-sm-12">
                                    <!--Shipping Address-->
                                    <div class="block shipping-address mb-4">
                                        <div class="block-content">
                                            <h3 class="title mb-3">Shipping Address</h3>
                                            <fieldset>
                                                <div class="row">
                                                    <div class="form-group col-12 col-sm-6 col-md-6 col-lg-6">
                                                        <label for="firstname" class="form-label">First Name <span class="required">*</span></label>
                                                        <input name="first_name" id="firstname" type="text" required="" value="{{ data.first_name }}" class="form-control">
                                                    </div>
                                                    <div class="form-group col-12 col-sm-6 col-md-6 col-lg-6">
                                                        <label for="lastname" class="form-label">Last Name <span class="required">*</span></label>
                                                        <input name="last_name" value="{{ data.last_name }}" id="lastname" type="text" required="" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group col-12 col-sm-6 col-md-6 col-lg-6">
                                                        <label for="email" class="form-label">E-Mail <span class="required">*</span></label>
                                                        <input name="email" value="{{ data.email }}" id="email" type="email" required="" class="form-control">
                                                    </div>
                                                    <div class="form-group col-12 col-sm-6 col-md-6 col-lg-6">
                                                        <label for="phone" class="form-label">Phone <span class="required">*</span></label>
                                                        <input name="phone" value="{{ data.phone }}" id="phone" type="tel" required="" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group col-12 col-sm-6 col-md-6 col-lg-6">
                                                        <label for="address-1" class="form-label">Address <span class="required">*</span></label>
                                                        <input name="address" value="{{ data.address }}" id="address-1" type="text" required="" placeholder="Street address" class="form-control">
                                                    </div>
                                                    <div class="form-group col-12 col-sm-6 col-md-6 col-lg-6">
                                                        <label for="lga" class="form-label d-none d-sm-block">Local Government Area</label>
                                                        <input name="lga" value="{{ data.lga }}" id="lga" type="text" required="" placeholder="Apartment, suite, unit etc. (optional)" class="form-control">
                                                    </div>
                                                </div>
                                                <div class="row">
                                                    <div class="form-group col-12 col-sm-6 col-md-6 col-lg-6">
                                                        <label for="state" class="form-label">State <span class="required">*</span></label>
                                                        <input name="state" value="{{ data.state }}" id="state" type="text" class="form-control">
                                                    </div>
                                                    <div class="form-group col-12 col-sm-6 col-md-6 col-lg-6">
                                                        <label for="country" class="form-label">Country <span class="required">*</span></label>
                                                        <input name="country" value="Nigeria" id="country" type="text" class="form-control">
                                                    </div>
                                                </div>

                                            </fieldset>
                                        </div>
                                    </div>
                                    <!--End Shipping Address-->
                            </div>

                            <div class="col-lg-6 col-md-6 col-sm-12">

                                <!--Cart Summary-->
                                <div class="cart-info">
                                    <div class="cart-order-detail cart-col">
<!--                                        <div class="row g-0 border-bottom pb-2">-->
<!--                                            <span class="col-6 col-sm-6 cart-subtotal-title"><strong>Subtotal</strong></span>-->
<!--                                            <span class="col-6 col-sm-6 cart-subtotal-title cart-subtotal text-end"><span class="money">$326.00</span></span>-->
<!--                                        </div>-->
<!--                                        <div class="row g-0 border-bottom py-2">-->
<!--                                            <span class="col-6 col-sm-6 cart-subtotal-title"><strong>Coupon Discount</strong></span>-->
<!--                                            <span class="col-6 col-sm-6 cart-subtotal-title cart-subtotal text-end"><span class="money">-$25.00</span></span>-->
<!--                                        </div>-->
<!--                                        <div class="row g-0 border-bottom py-2">-->
<!--                                            <span class="col-6 col-sm-6 cart-subtotal-title"><strong>Tax</strong></span>-->
<!--                                            <span class="col-6 col-sm-6 cart-subtotal-title cart-subtotal text-end"><span class="money">$10.00</span></span>-->
<!--                                        </div>-->
<!--                                        <div class="row g-0 border-bottom py-2">-->
<!--                                            <span class="col-6 col-sm-6 cart-subtotal-title"><strong>Shipping</strong></span>-->
<!--                                            <span class="col-6 col-sm-6 cart-subtotal-title cart-subtotal text-end"><span class="money">Free shipping</span></span>-->
<!--                                        </div>-->
                                        <div class="row g-0 pt-2">
                                            <span class="col-6 col-sm-6 cart-subtotal-title fs-6"><strong>Total</strong></span>
                                            <span class="col-6 col-sm-6 cart-subtotal-title fs-5 cart-subtotal text-end text-primary"><b class="money">&#8358;{{ cart.get_total_cost|floatformat:2|intcomma }}</b></span>
                                        </div>

                                        <button type="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop" id="cartCheckout" class="btn btn-lg btn-primary my-4 checkout w-100">Place order</button>
                                    </div>
                                </div>
                                <!--Cart Summary-->

                            </div>

                        </div>

                    </form>

                </div>
                <!--End Main Content-->
            </div>
            <!-- End Body Container -->


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
          {% endblock content %}


<!--Payment Methods-->
<!--                                            <div class="block mb-3 payment-methods mb-4">-->
<!--                                                <div class="block-content">-->
<!--                                                    <h3 class="title mb-3">Payment Method</h3>-->
<!--                                                    <div class="payment-accordion-radio">-->
<!--                                                        <div class="accordion" id="accordionExample">-->
<!--                                                            <h4 class=" mb-3">Bank Name: {{ bank.bank_name }}</h4>-->
<!--                                                            <h4 class=" mb-3">Account Number: {{ bank.account_number }}</h4>-->
<!--                                                            <h4 class=" mb-3">Account Name: {{ bank.account_name }}</h4>-->

<!--                                                            <button type="submit" class="btn btn-primary ">I have made payment</button>-->
<!--                                                        </div>-->
<!--                                                    </div>-->
<!--                                                </div>-->
<!--                                            </div>-->

                                            <!--End Payment Methods-->